#summary Guide to using xUmlCompiler

==Introduction==
This guide shows you how to define, view, generate and execute a system using xUmlCompiler.

For a quick start look at [Example1Simple Simple Example].

==Setup==
Two options:
===Get the latest build with Subversion===
[http://code.google.com/p/xuml-compiler/source/checkout Checkout the head using svn] and run the build.xml file with ant (works best with 1.7 or later). This creates the xuml-compiler.jar and dowloads its dependencies from Maven repositories.

Once you have run the build include the jars below in your classpath:
  * xUmlCompiler/temp/deployment/xuml-compiler.jar
  * xUmlCompiler/temp/dependencies/`*`.jar
===Or download the zip===
  # Go to [http://code.google.com/p/xuml-compiler/downloads/list Downloads] and download the latest zip. 
  # Unpack the zip file 
  # To download all dependencies into the same directory as xuml-compiler.jar from the zip file:
{{{
java -jar xuml-compiler.jar
}}}

To download the dependencies via a proxy server:
{{{
java -Dhttp.proxyHost -Dhttp.proxyPort -jar xuml-compiler-<put version here>.jar
}}}




==System==
Here are the steps required to create a system:
  # Define a system
  # View/validate the system
  # Generate the EJBs
  # Include the generated EJBs in your runtime classpath
  # Implement the generated Action interfaces
  # Create an injector module

To run the system:
  # Initialize the injector
  # Within the context of an `EntityManager` transaction make persistent changes to the data and send events to entities.

===Define a system===
Create a class that extends [http://code.google.com/p/xuml-compiler/source/browse/trunk/xUmlCompiler/src/java/moten/david/xuml/model/util/SystemBase.java SystemBase]. Create all the system bits in the constructor by using the utility classes that [http://code.google.com/p/xuml-compiler/source/browse/trunk/xUmlCompiler/src/java/moten/david/xuml/model/util/SystemBase.java SystemBase] offers. For example, from [Example1Simple Simple Example]:
{{{
public Simple extends SystemBase {
        public Simple() {
                super(null, "Simple");
                initialize();
        }

        private void initialize() {
                model.Package pkg = createRootPackage("simple", "a simple system");
                Class customer = createClassWithArbitraryId(pkg, "Customer",
                                "a customer, possible contactable using multiple emails");
                createAttribute(customer, "name").setUnique(true);
                State inactive = createState(customer, "Inactive");
                State active = createState(customer, "Active");
                ...
                ...
                createAssociation("R1", createAssociationEndPrimary(customer,
                                Multiplicity.ONE, "is used to contact"),
                                createAssociationEndSecondary(email, Multiplicity.MANY,
                                                "is contactable via"));
        }
}
}}}

or 
===Define a System using Ecore===
Navigate to xUmlMetaModel/model/uml.ecore, open the file in Eclipse with the default Sample Ecore Editor, then choose Create Dynamic Instance on the System node:

http://xuml-compiler.googlecode.com/svn/trunk/xUmlCompiler/docs/wiki/ecoreSystemCreate1.png 

===Validate===
Validation is performed by a [http://code.google.com/p/xuml-compiler/source/browse/trunk/xUmlCompiler/src/java/moten/david/xuml/model/util/SystemBase.java SystemBase] method that throws a `ValidationException`:
{{{
    Simple simple = new Simple();
    simple.validate();
}}}
===View===
{{{
    simple.view("src/viewer/Simple.ini");
}}}
===Generate===
{{{
    simple.generate("temp/simple");
}}}

To get stuck into a simple example go to [Example1Simple Simple Example].

A more detailed example is [Example2Shop Shop Example].